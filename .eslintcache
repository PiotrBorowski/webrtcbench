[{"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\index.tsx":"1","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\reportWebVitals.ts":"2","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\App.tsx":"3","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\ffmpeg.ts":"4","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\components\\VideoComponent.tsx":"5","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\page\\WebRTCPage.tsx":"6","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\peer.ts":"7","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\sdpTransport.ts":"8"},{"size":500,"mtime":1611414839569,"results":"9","hashOfConfig":"10"},{"size":425,"mtime":1611414839569,"results":"11","hashOfConfig":"10"},{"size":1606,"mtime":1618851599061,"results":"12","hashOfConfig":"10"},{"size":377,"mtime":1612636184589,"results":"13","hashOfConfig":"10"},{"size":518,"mtime":1618851251374,"results":"14","hashOfConfig":"10"},{"size":2001,"mtime":1619176975665,"results":"15","hashOfConfig":"10"},{"size":1975,"mtime":1619692462304,"results":"16","hashOfConfig":"10"},{"size":2496,"mtime":1619692420069,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1rz0ykl",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\index.tsx",[],["38","39"],"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\reportWebVitals.ts",[],"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\App.tsx",["40","41"],"import React, { useRef, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { WebRTCPage } from \"./page/WebRTCPage\";\n\nfunction App() {\n  // const videoRefRef = useRef<HTMLVideoElement>(null);\n  // const videoWebRTCRef = useRef<HTMLVideoElement>(null);\n  // const videoHLSRef = useRef<HTMLVideoElement>(null);\n  // const videoDASHRef = useRef<HTMLVideoElement>(null);\n  // const videoSRTRef = useRef<HTMLVideoElement>(null);\n\n  // const start = async () => {\n  //   await Promise.all([startHls()]);\n  // };\n\n  // const startRef = async () => {\n  //   videoRefRef.current.srcObject = await startCapture({\n  //     video: true,\n  //     audio: true,\n  //   });\n  // };\n\n  // const startHls = async () => {\n  //   var hls = new Hls({\n  //     liveBackBufferLength: 0,\n  //     maxBufferLength: 1,\n  //     maxMaxBufferLength: 1,\n  //   });\n  //   hls.loadSource(`http://127.0.0.1:8887/stream.m3u8`);\n  //   hls.attachMedia(videoHLSRef.current);\n  // };\n\n  // useEffect(() => {\n  //   testFFmpeg();\n  // }, []);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <ul>\n          <li>\n            <Link to=\"/dash\">DASH</Link>\n          </li>\n          <li>\n            <Link to=\"/hls\">HLS</Link>\n          </li>\n          <li>\n            <Link to=\"/srt\">SRT</Link>\n          </li>\n          <li>\n            <Link to=\"/webrtc\">WebRTC</Link>\n          </li>\n        </ul>\n\n        <Switch>\n          <Route path=\"/webrtc\" component={WebRTCPage} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\ffmpeg.ts",[],["42","43"],"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\components\\VideoComponent.tsx",[],"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\page\\WebRTCPage.tsx",["44","45"],"import react, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { VideoComponent } from \"../components/VideoComponent\";\r\nimport { call, createPeer, getLocalMediaStream, init } from \"../services/peer\";\r\n\r\nexport const WebRTCPage = () => {\r\n  const remoteRef = useRef(null);\r\n  const localRef = useRef(null);\r\n\r\n  const [localId, setLocalId] = useState(\"\");\r\n  const [remoteId, setRemoteId] = useState(\"\");\r\n  const [peer, setPeer] = useState(null);\r\n  const [localStream, setLocalStream] = useState();\r\n\r\n  const getMediaStream = async () => {\r\n    const stream = await getLocalMediaStream({\r\n      audio: true,\r\n      video: true,\r\n    });\r\n    localRef.current.srcObject = stream;\r\n    setLocalStream(stream);\r\n  };\r\n\r\n  const connect = useCallback(async () => {\r\n    const p = createPeer(localId);\r\n    setPeer(p);\r\n    await getMediaStream();\r\n    init(p, localStream, (remoteStream) => {\r\n      remoteRef.current.srcObject = remoteStream;\r\n    });\r\n  }, [remoteRef, localStream, localId]);\r\n\r\n  const callToRemote = useCallback(() => {\r\n    call(peer, remoteId, localStream, (remoteStream) => {\r\n      remoteRef.current.srcObject = remoteStream;\r\n    });\r\n  }, [peer, remoteId, remoteRef, localStream]);\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flex: 1 }}>\r\n      <div\r\n        style={{ display: \"flex\", flexDirection: \"column\", marginRight: 20 }}\r\n      >\r\n        <input\r\n          placeholder=\"local\"\r\n          style={{ height: 50 }}\r\n          onChange={(e) => setLocalId(e.target.value)}\r\n          value={localId}\r\n        />\r\n        <input\r\n          placeholder=\"remote\"\r\n          style={{ height: 50 }}\r\n          onChange={(e) => setRemoteId(e.target.value)}\r\n          value={remoteId}\r\n        />\r\n        <button onClick={connect}>Connect</button>\r\n        <button onClick={callToRemote}>Call</button>\r\n      </div>\r\n\r\n      <VideoComponent title=\"local\" ref={localRef} />\r\n\r\n      <VideoComponent title=\"remote\" ref={remoteRef} />\r\n    </div>\r\n  );\r\n};\r\n","C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\peer.ts",[],"C:\\Users\\Piotr Borowski\\Desktop\\MGR\\app\\videobench\\src\\services\\sdpTransport.ts",["46","47","48","49"],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":1,"column":17,"nodeType":"56","messageId":"57","endLine":1,"endColumn":23},{"ruleId":"54","severity":1,"message":"58","line":1,"column":25,"nodeType":"56","messageId":"57","endLine":1,"endColumn":34},{"ruleId":"50","replacedBy":"59"},{"ruleId":"52","replacedBy":"60"},{"ruleId":"54","severity":1,"message":"61","line":1,"column":8,"nodeType":"56","messageId":"57","endLine":1,"endColumn":13},{"ruleId":"54","severity":1,"message":"58","line":1,"column":30,"nodeType":"56","messageId":"57","endLine":1,"endColumn":39},{"ruleId":"54","severity":1,"message":"62","line":39,"column":9,"nodeType":"56","messageId":"57","endLine":39,"endColumn":26},{"ruleId":"63","severity":1,"message":"64","line":76,"column":35,"nodeType":"65","messageId":"66","endLine":76,"endColumn":36,"suggestions":"67"},{"ruleId":"63","severity":1,"message":"64","line":76,"column":42,"nodeType":"65","messageId":"66","endLine":76,"endColumn":43,"suggestions":"68"},{"ruleId":"63","severity":1,"message":"69","line":76,"column":46,"nodeType":"65","messageId":"66","endLine":76,"endColumn":47,"suggestions":"70"},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"@typescript-eslint/no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.",["71"],["72"],"'react' is defined but never used.","'availablePayloads' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["73","74"],["75","76"],"Unnecessary escape character: \\=.",["77","78"],"no-global-assign","no-unsafe-negation",{"messageId":"79","fix":"80","desc":"81"},{"messageId":"82","fix":"83","desc":"84"},{"messageId":"79","fix":"85","desc":"81"},{"messageId":"82","fix":"86","desc":"84"},{"messageId":"79","fix":"87","desc":"81"},{"messageId":"82","fix":"88","desc":"84"},"removeEscape",{"range":"89","text":"90"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"91","text":"92"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"93","text":"90"},{"range":"94","text":"92"},{"range":"95","text":"90"},{"range":"96","text":"92"},[2036,2037],"",[2036,2036],"\\",[2043,2044],[2043,2043],[2047,2048],[2047,2047]]